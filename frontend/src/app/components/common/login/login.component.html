<div class="min-h-screen flex items-center justify-center p-4 relative overflow-hidden bg-surface-50">

  <div class="fixed inset-0 -z-10 h-full w-full bg-[radial-gradient(#e5e7eb_1px,transparent_1px)] [background-size:20px_20px]"></div>
  <div class="absolute top-0 left-1/2 w-[600px] h-[600px] bg-primary-500/10 rounded-full blur-[100px] -translate-x-1/2 -translate-y-1/2"></div>

  <div class="w-full max-w-md animate-fade-in-up">

    <a routerLink="/" class="flex justify-center items-center mb-8 group">
      <div class="w-12 h-12 bg-white rounded-xl shadow-lg flex items-center justify-center border border-surface-100 group-hover:scale-110 transition-transform duration-300">
        <img class="w-8 h-8 object-contain" ngSrc="/shopLogo.png" alt="logo" height="96" width="96">
      </div>
      <span class="ml-3 text-2xl font-bold text-surface-900 tracking-tight">MiTienda</span>
    </a>

    <div class="bg-white rounded-3xl shadow-xl border border-surface-200 overflow-hidden relative">

      <div class="absolute top-0 left-0 w-full h-1.5 bg-gradient-to-r from-primary-400 to-primary-600"></div>

      <div class="p-8 md:p-10">

        <div class="text-center mb-8">
          <h2 class="text-2xl font-bold text-surface-900">Iniciar sesión</h2>
          <p class="text-surface-500 text-sm mt-2">Introduce tus datos para acceder a tu cuenta.</p>
        </div>

        <div *ngIf="showErrorMessage" class="flex items-start gap-3 p-4 mb-6 text-sm bg-red-50 border border-red-100 text-red-600 rounded-xl animate-shake">
          <i class="pi pi-exclamation-circle text-lg mt-0.5"></i>
          <div>
            <span class="font-bold block">Error de acceso</span>
            El usuario o la contraseña no son correctos.
          </div>
        </div>

        <div class="w-full mb-4">
          <div #googleBtn></div>
        </div>

        <div class="relative flex py-2 items-center mb-6">
          <div class="flex-grow border-t border-surface-200"></div>
          <span class="flex-shrink-0 mx-4 text-surface-400 text-xs uppercase font-bold tracking-wider">O con tu email</span>
          <div class="flex-grow border-t border-surface-200"></div>
        </div>

        <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="space-y-5">

          <div class="space-y-1.5">
            <label for="username" class="block text-sm font-bold text-surface-700 ml-1">Usuario</label>
            <div class="relative">
              <i class="pi pi-user absolute left-4 top-3.5 text-surface-400"></i>
              <input id="username" formControlName="username" type="text" placeholder="ej. juanperez"
                     class="w-full bg-surface-50 border border-surface-200 text-surface-900 text-sm rounded-xl pl-10 pr-4 py-3 focus:bg-white focus:border-primary-500 focus:ring-4 focus:ring-primary-500/10 outline-none transition-all placeholder:text-surface-400"/>
            </div>
          </div>

          <div class="space-y-1.5">
            <div class="flex justify-between items-center ml-1">
              <label for="password" class="block text-sm font-bold text-surface-700">Contraseña</label>
              <a routerLink="/recover" class="text-xs font-medium text-primary-600 hover:text-primary-700 hover:underline cursor-pointer">¿Olvidaste la contraseña?</a>
            </div>
            <div class="relative">
              <i class="pi pi-lock absolute left-4 top-3.5 text-surface-400"></i>
              <input id="password" formControlName="password" [type]="showPassword ? 'text' : 'password'" placeholder="••••••••"
                     class="w-full bg-surface-50 border border-surface-200 text-surface-900 text-sm rounded-xl pl-10 pr-12 py-3 focus:bg-white focus:border-primary-500 focus:ring-4 focus:ring-primary-500/10 outline-none transition-all placeholder:text-surface-400"/>

              <button type="button" (click)="togglePassword()" class="absolute right-3 top-2.5 p-1 text-surface-400 hover:text-surface-600 transition-colors rounded-lg hover:bg-surface-200/50">
                <i [class]="showPassword ? 'pi pi-eye-slash' : 'pi pi-eye'"></i>
              </button>
            </div>
          </div>

          <button type="submit" class="w-full bg-primary-500 hover:bg-primary-600 text-white font-bold rounded-xl py-3.5 shadow-lg shadow-primary-500/30 transition-all transform hover:scale-[1.02] active:scale-[0.98] mt-2">
            Iniciar sesión
          </button>

        </form>
      </div>

      <div class="bg-surface-50/50 p-6 border-t border-surface-100 text-center">
        <p class="text-sm text-surface-500">
          ¿Aún no tienes cuenta?
          <a routerLink="/signup" class="text-primary-600 font-bold hover:text-primary-700 hover:underline">Regístrate gratis</a>
        </p>
        <div class="mt-4">
          <a routerLink="/" class="text-xs text-surface-400 hover:text-surface-600 font-medium flex items-center justify-center gap-1 transition-colors">
            <i class="pi pi-arrow-left text-[10px]"></i> Volver a la tienda
          </a>
        </div>
      </div>

    </div>
  </div>
</div>
